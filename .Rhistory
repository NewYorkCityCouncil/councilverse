num_without_salary = Without.Salary,
total = Total,
percent_without_salary = X..Without.Salary
)
salary_not_found
table_html <- kable(data, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_found.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot)
#interactive_plot
gg_plot
# text = paste(name, ": ", value, "%", "Platform: ", platform)
# htmltools::save_html(gg_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = Platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot)
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot)
#interactive_plot
gg_plot
# text = paste(name, ": ", value, "%", "Platform: ", platform)
# htmltools::save_html(gg_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot)
#interactive_plot
gg_plot
# text = paste(name, ": ", value, "%", "Platform: ", platform)
# htmltools::save_html(gg_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
gg_plot
htmltools::save_html(gg_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
gg_plot
htmltools::save_html(gg_plot, "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
class(gg_plot)
str(gg_plot)
ggsave("/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html", gg_plot, device = "html")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(ggiraph)
library(plotly)
library(knitr)
library(councildown)
ggsave("/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html", gg_plot, device = "html")
ggsave("/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html", gg_plot)
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
ggsave("/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html", gg_plot)
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
htmlwidgets::saveWidget(gg_plot, "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
saveWidget(ggplotly((gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
#htmltools::save_html(gg_plot, "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
htmltools::saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
#interactive_plot <- ggplotly(gg_plot)
htmlwidgets)::saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
htmlwidgets::saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
salary_not_found <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_found.csv')
salary_not_found <- salary_not_found %>%
rename(
source = X,
num_without_salary = Without.Salary,
total = Total,
percent_without_salary = X..Without.Salary
)
salary_not_found
table_html <- kable(salary_not_found, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_found.html")
salary_not_scraped <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_scraped.csv')
salary_not_scraped <- salary_not_scraped %>%
rename(
source = X,
sal_not_scraped = Salary.Not.Scraped,
total = Total,
percent_sal_not_scraped = X..Salary.Not.Scraped
)
table_html <- kable(salary_not_found, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_scraped.html")
salary_not_scraped <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_scraped.csv')
salary_not_scraped <- salary_not_scraped %>%
rename(
source = X,
sal_not_scraped = Salary.Not.Scraped,
total = Total,
percent_sal_not_scraped = X..Salary.Not.Scraped
)
table_html <- kable(salary_not_scraped, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_scraped.html")
bad_salary_ratios <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/bad_salary_ratios.csv')
bad_salary_ratios <- bad_salary_ratios %>%
rename(
company = Company,
role = Role,
pay_range = Salary.Range,
pay_ratio = Salary.Ratio
)
x_html <- knitr::kable(bad_salary_ratios, "html")
kable_styling(x_html, font_size = 14)
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot)
interactive_plot
# htmlwidgets::saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
#htmltools::save_html(gg_plot, "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
install.packages("ggplot2")
library(ggplot2)
# Sample data
data <- data.frame(
Category = c("A", "B", "C", "D"),
Value = c(10, 15, 20, 25),
Description = c("Category A", "Category B", "Category C", "Category D")
)
# Create a ggplot bar plot with customized tooltips
ggplot(data, aes(x = Category, y = Value, tooltip = Description)) +
geom_bar(stat = "identity", fill = "skyblue") +
labs(title = "Customized Tooltip Example", x = "Categories", y = "Values") +
theme_minimal()
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(ggiraph)
library(plotly)
library(knitr)
library(councildown)
install.packages(c("ggplot2", "plotly"))
library(ggplot2)
library(plotly)
# Sample data
data <- data.frame(
Category = c("A", "B", "C", "D"),
Value = c(10, 15, 20, 25),
Description = c("Category A", "Category B", "Category C", "Category D")
)
# Create a ggplot bar plot
gg_plot <- ggplot(data, aes(x = Category, y = Value, text = Description)) +
geom_bar(stat = "identity", fill = "skyblue") +
labs(title = "Interactive Tooltip Example", x = "Categories", y = "Values") +
theme_minimal()
# Convert ggplot object to plotly object
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
# Display the interactive plot
interactive_plot
install.packages(c("ggplot2", "plotly"))
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# htmlwidgets::saveWidget(ggplotly(gg_plot), file = "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
#htmltools::save_html(gg_plot, "/Users/ravram/Desktop/pay-transparency/visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = value, fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste(value, "%")), fill = platform)) +
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste(value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Value: ", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "Percent of Total Salary Ratios", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "% of Total Salary Ratios", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
#htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "% of Total Salary Ratios", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "% of Job Postings", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(ggiraph)
library(plotly)
library(knitr)
library(councildown)
salary_not_found <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_found.csv')
salary_not_found <- salary_not_found %>%
rename(
source = X,
num_without_salary = Without.Salary,
total = Total,
percent_without_salary = X..Without.Salary
)
salary_not_found
table_html <- kable(salary_not_found, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_found.html")
salary_not_scraped <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_scraped.csv')
salary_not_scraped <- salary_not_scraped %>%
rename(
source = X,
sal_not_scraped = Salary.Not.Scraped,
total = Total,
percent_sal_not_scraped = X..Salary.Not.Scraped
)
table_html <- kable(salary_not_scraped, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_scraped.html")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(kableExtra)
library(ggplot2)
library(ggiraph)
library(plotly)
library(knitr)
library(councildown)
salary_not_found <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_found.csv')
salary_not_found <- salary_not_found %>%
rename(
source = X,
num_without_salary = Without.Salary,
total = Total,
percent_without_salary = X..Without.Salary
)
salary_not_found
table_html <- kable(salary_not_found, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_found.html")
salary_not_scraped <- read.csv('/Users/ravram/Desktop/pay-transparency/data/output/salary_not_scraped.csv')
salary_not_scraped <- salary_not_scraped %>%
rename(
source = X,
sal_not_scraped = Salary.Not.Scraped,
total = Total,
percent_sal_not_scraped = X..Salary.Not.Scraped
)
salary_not_scraped
table_html <- kable(salary_not_scraped, format = "html", caption = "Sample Table")
writeLines(table_html, "/Users/ravram/Desktop/pay-transparency/visuals/salary_not_scraped.html")
# create data
name=c("No spread (Exact Salary)","Low-spread (>0%, <17%)", "Medium-spread (17% – 34%)", "High-spread (>34%)")
value=c(30.9,16.3,22.6,30.0,24.8,28.8,23.2,23.2)
platform=c("Google","Google","Google","Google","Indeed","Indeed","Indeed","Indeed")
# creating data frame
data <- data.frame(name,value,platform)
gg_plot <- ggplot(data, aes(x=fct_inorder(name), value, text = paste("Platform:", platform, "<br>Value:", value, "%"), fill = platform)) +
geom_bar(stat="identity", position = "dodge", width=0.7) +
labs(x = "Salary Ratio", y = "% of Job Postings", fill= "Platform") +
theme_nycc()
interactive_plot <- ggplotly(gg_plot, tooltip = "text")
interactive_plot
htmltools::save_html(interactive_plot, "../visuals/salary_spreads.html")
